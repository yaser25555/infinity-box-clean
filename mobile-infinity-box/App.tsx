import React, { useState, useEffect } from 'react';
import { 
  View, 
  Text, 
  StyleSheet, 
  ScrollView, 
  TouchableOpacity, 
  Image,
  TextInput,
  Modal,
  Dimensions,
  StatusBar,
  SafeAreaView
} from 'react-native';
import { NavigationContainer } from '@react-navigation/native';
import { createBottomTabNavigator } from '@react-navigation/bottom-tabs';
import { createStackNavigator } from '@react-navigation/stack';
import Icon from 'react-native-vector-icons/MaterialIcons';
import AsyncStorage from '@react-native-async-storage/async-storage';

const { width, height } = Dimensions.get('window');
const Tab = createBottomTabNavigator();
const Stack = createStackNavigator();

// ุงูุฃููุงู ุงููุฎุตุตุฉ
const colors = {
  primary: '#1e293b',
  secondary: '#3b82f6',
  accent: '#10b981',
  background: '#0f172a',
  surface: '#1e293b',
  text: '#f8fafc',
  textSecondary: '#cbd5e1',
  warning: '#f59e0b',
  error: '#ef4444',
  success: '#10b981'
};

// ูุงุฌูุฉ ุชุณุฌูู ุงูุฏุฎูู
const LoginScreen = ({ onLogin }: { onLogin: (user: any) => void }) => {
  const [username, setUsername] = useState('');
  const [password, setPassword] = useState('');
  const [isRegistering, setIsRegistering] = useState(false);
  const [email, setEmail] = useState('');

  const handleAuth = async () => {
    try {
      const endpoint = isRegistering ? '/api/auth/register' : '/api/auth/login';
      const body = isRegistering 
        ? { username, password, email }
        : { username, password };

      const response = await fetch(`http://localhost:5000${endpoint}`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(body)
      });

      if (response.ok) {
        const data = await response.json();
        await AsyncStorage.setItem('userToken', data.token);
        await AsyncStorage.setItem('userData', JSON.stringify(data.user));
        onLogin(data.user);
      }
    } catch (error) {
      console.error('ุฎุทุฃ ูู ุงููุตุงุฏูุฉ:', error);
    }
  };

  return (
    <SafeAreaView style={styles.container}>
      <StatusBar barStyle="light-content" backgroundColor={colors.background} />
      <View style={styles.loginContainer}>
        <View style={styles.logoContainer}>
          <Text style={styles.logo}>๐ฎ</Text>
          <Text style={styles.appName}>INFINITY BOX</Text>
          <Text style={styles.tagline}>ููุตุฉ ุงูุฃูุนุงุจ ุงูุฌูุงุนูุฉ ูุงููุญุงุฏุซุฉ ุงูุตูุชูุฉ</Text>
        </View>

        <View style={styles.formContainer}>
          <TextInput
            style={styles.input}
            placeholder="ุงุณู ุงููุณุชุฎุฏู"
            placeholderTextColor={colors.textSecondary}
            value={username}
            onChangeText={setUsername}
          />
          
          {isRegistering && (
            <TextInput
              style={styles.input}
              placeholder="ุงูุจุฑูุฏ ุงูุฅููุชุฑููู"
              placeholderTextColor={colors.textSecondary}
              value={email}
              onChangeText={setEmail}
              keyboardType="email-address"
            />
          )}
          
          <TextInput
            style={styles.input}
            placeholder="ูููุฉ ุงููุฑูุฑ"
            placeholderTextColor={colors.textSecondary}
            value={password}
            onChangeText={setPassword}
            secureTextEntry
          />

          <TouchableOpacity style={styles.primaryButton} onPress={handleAuth}>
            <Text style={styles.buttonText}>
              {isRegistering ? 'ุฅูุดุงุก ุญุณุงุจ' : 'ุชุณุฌูู ุงูุฏุฎูู'}
            </Text>
          </TouchableOpacity>

          <TouchableOpacity 
            style={styles.secondaryButton}
            onPress={() => setIsRegistering(!isRegistering)}
          >
            <Text style={styles.secondaryButtonText}>
              {isRegistering ? 'ูุฏูู ุญุณุงุจุ ุณุฌู ุฏุฎููู' : 'ููุณ ูุฏูู ุญุณุงุจุ ุฃูุดุฆ ูุงุญุฏุงู'}
            </Text>
          </TouchableOpacity>
        </View>
      </View>
    </SafeAreaView>
  );
};

// ุงูุดุงุดุฉ ุงูุฑุฆูุณูุฉ
const HomeScreen = () => {
  const [games] = useState([
    {
      id: 1,
      name: 'ูุนุจุฉ ุฌูุน ุงูููุงูู',
      icon: '๐',
      players: 1250,
      description: 'ุงุฌูุน ุงูููุงูู ูุงุฑุจุญ ุงูููุงุท ุงูุฐูุจูุฉ',
      featured: true
    },
    {
      id: 2,
      name: 'ูุนุจุฉ ุงูุณุจุงู',
      icon: '๐',
      players: 890,
      description: 'ุณุงุจู ุฃุตุฏูุงุกู ูู ุณุจุงูุงุช ูุซูุฑุฉ',
      featured: false
    },
    {
      id: 3,
      name: 'ูุนุจุฉ ุงูุฃูุบุงุฒ',
      icon: '๐งฉ',
      players: 650,
      description: 'ุญู ุงูุฃูุบุงุฒ ูุน ูุฑููู',
      featured: false
    }
  ]);

  return (
    <ScrollView style={styles.container} contentContainerStyle={styles.scrollContent}>
      {/* ุฑุฃุณ ุงูุตูุญุฉ */}
      <View style={styles.header}>
        <Text style={styles.welcomeText}>ูุฑุญุจุงู ุจู ูู</Text>
        <Text style={styles.headerTitle}>INFINITY BOX</Text>
        <View style={styles.statsRow}>
          <View style={styles.statItem}>
            <Text style={styles.statNumber}>2,790</Text>
            <Text style={styles.statLabel}>ูุงุนุจ ูุชุตู</Text>
          </View>
          <View style={styles.statItem}>
            <Text style={styles.statNumber}>156</Text>
            <Text style={styles.statLabel}>ุบุฑูุฉ ูุดุทุฉ</Text>
          </View>
        </View>
      </View>

      {/* ุงูุฃูุนุงุจ ุงููููุฒุฉ */}
      <View style={styles.section}>
        <Text style={styles.sectionTitle}>ุงูุฃูุนุงุจ ุงููููุฒุฉ</Text>
        {games.filter(game => game.featured).map(game => (
          <TouchableOpacity key={game.id} style={styles.featuredGameCard}>
            <View style={styles.gameIcon}>
              <Text style={styles.gameIconText}>{game.icon}</Text>
            </View>
            <View style={styles.gameInfo}>
              <Text style={styles.gameName}>{game.name}</Text>
              <Text style={styles.gameDescription}>{game.description}</Text>
              <Text style={styles.playersCount}>{game.players} ูุงุนุจ ูุชุตู</Text>
            </View>
            <TouchableOpacity style={styles.playButton}>
              <Text style={styles.playButtonText}>ุงูุนุจ ุงูุขู</Text>
            </TouchableOpacity>
          </TouchableOpacity>
        ))}
      </View>

      {/* ุฌููุน ุงูุฃูุนุงุจ */}
      <View style={styles.section}>
        <Text style={styles.sectionTitle}>ุฌููุน ุงูุฃูุนุงุจ</Text>
        <View style={styles.gamesGrid}>
          {games.map(game => (
            <TouchableOpacity key={game.id} style={styles.gameCard}>
              <Text style={styles.gameCardIcon}>{game.icon}</Text>
              <Text style={styles.gameCardName}>{game.name}</Text>
              <Text style={styles.gameCardPlayers}>{game.players} ูุงุนุจ</Text>
            </TouchableOpacity>
          ))}
        </View>
      </View>
    </ScrollView>
  );
};

// ุบุฑู ุงูุฃูุนุงุจ ุงูุฌูุงุนูุฉ
const MultiplayerRoomsScreen = () => {
  const [rooms, setRooms] = useState([
    {
      id: 1,
      name: 'ุบุฑูุฉ ุงููุญุชุฑููู',
      gameType: 'fruit_catching',
      players: 3,
      maxPlayers: 4,
      isPrivate: false,
      difficulty: 'hard'
    },
    {
      id: 2,
      name: 'ุฃุตุฏูุงุก ุงููุฏุฑุณุฉ',
      gameType: 'racing',
      players: 2,
      maxPlayers: 6,
      isPrivate: true,
      difficulty: 'medium'
    }
  ]);

  const [showCreateRoom, setShowCreateRoom] = useState(false);

  return (
    <View style={styles.container}>
      <View style={styles.roomsHeader}>
        <Text style={styles.pageTitle}>ุบุฑู ุงูุฃูุนุงุจ ุงูุฌูุงุนูุฉ</Text>
        <TouchableOpacity 
          style={styles.createRoomButton}
          onPress={() => setShowCreateRoom(true)}
        >
          <Icon name="add" size={24} color={colors.text} />
        </TouchableOpacity>
      </View>

      <ScrollView style={styles.roomsList}>
        {rooms.map(room => (
          <TouchableOpacity key={room.id} style={styles.roomCard}>
            <View style={styles.roomHeader}>
              <Text style={styles.roomName}>{room.name}</Text>
              <View style={[styles.roomStatus, { backgroundColor: room.isPrivate ? colors.warning : colors.success }]}>
                <Text style={styles.roomStatusText}>
                  {room.isPrivate ? 'ุฎุงุตุฉ' : 'ุนุงูุฉ'}
                </Text>
              </View>
            </View>
            
            <View style={styles.roomInfo}>
              <Text style={styles.roomGameType}>
                {room.gameType === 'fruit_catching' ? '๐ ุฌูุน ุงูููุงูู' : 
                 room.gameType === 'racing' ? '๐ ุณุจุงู' : '๐งฉ ุฃูุบุงุฒ'}
              </Text>
              <Text style={styles.roomPlayers}>
                {room.players}/{room.maxPlayers} ูุงุนุจูู
              </Text>
              <Text style={styles.roomDifficulty}>
                ุงูุตุนูุจุฉ: {room.difficulty === 'easy' ? 'ุณูู' : 
                         room.difficulty === 'medium' ? 'ูุชูุณุท' : 'ุตุนุจ'}
              </Text>
            </View>
            
            <TouchableOpacity style={styles.joinRoomButton}>
              <Text style={styles.joinRoomButtonText}>ุงูุถูุงู</Text>
            </TouchableOpacity>
          </TouchableOpacity>
        ))}
      </ScrollView>

      {/* ูุงูุฐุฉ ุฅูุดุงุก ุบุฑูุฉ */}
      <Modal visible={showCreateRoom} transparent animationType="slide">
        <View style={styles.modalOverlay}>
          <View style={styles.modalContent}>
            <Text style={styles.modalTitle}>ุฅูุดุงุก ุบุฑูุฉ ุฌุฏูุฏุฉ</Text>
            
            <TextInput
              style={styles.modalInput}
              placeholder="ุงุณู ุงูุบุฑูุฉ"
              placeholderTextColor={colors.textSecondary}
            />
            
            <View style={styles.modalButtons}>
              <TouchableOpacity 
                style={styles.modalCancelButton}
                onPress={() => setShowCreateRoom(false)}
              >
                <Text style={styles.modalCancelText}>ุฅูุบุงุก</Text>
              </TouchableOpacity>
              <TouchableOpacity style={styles.modalCreateButton}>
                <Text style={styles.modalCreateText}>ุฅูุดุงุก</Text>
              </TouchableOpacity>
            </View>
          </View>
        </View>
      </Modal>
    </View>
  );
};

// ุงูุบุฑู ุงูุตูุชูุฉ
const VoiceRoomsScreen = () => {
  const [voiceRooms] = useState([
    {
      id: 1,
      name: 'ุงูุบุฑูุฉ ุงูุนุงูุฉ',
      users: 12,
      maxUsers: 20,
      isPrivate: false
    },
    {
      id: 2,
      name: 'ุฃุตุฏูุงุก ุงูุฌุงูุนุฉ',
      users: 5,
      maxUsers: 10,
      isPrivate: true
    }
  ]);

  return (
    <View style={styles.container}>
      <Text style={styles.pageTitle}>ุงูุบุฑู ุงูุตูุชูุฉ</Text>
      
      <ScrollView style={styles.voiceRoomsList}>
        {voiceRooms.map(room => (
          <TouchableOpacity key={room.id} style={styles.voiceRoomCard}>
            <View style={styles.voiceRoomHeader}>
              <Text style={styles.voiceRoomName}>{room.name}</Text>
              <View style={styles.voiceRoomUsers}>
                <Icon name="people" size={16} color={colors.textSecondary} />
                <Text style={styles.voiceRoomUsersText}>
                  {room.users}/{room.maxUsers}
                </Text>
              </View>
            </View>
            
            <TouchableOpacity style={styles.joinVoiceButton}>
              <Icon name="mic" size={20} color={colors.text} />
              <Text style={styles.joinVoiceButtonText}>ุงูุถูุงู ูููุญุงุฏุซุฉ</Text>
            </TouchableOpacity>
          </TouchableOpacity>
        ))}
      </ScrollView>
    </View>
  );
};

// ุงูููู ุงูุดุฎุตู
const ProfileScreen = () => {
  const [user] = useState({
    username: 'ุงููุงุนุจ123',
    playerId: 'P-456789',
    level: 15,
    goldCoins: 25000,
    pearls: 45,
    profileImage: null
  });

  return (
    <ScrollView style={styles.container} contentContainerStyle={styles.profileContent}>
      <View style={styles.profileHeader}>
        <View style={styles.avatarContainer}>
          <Text style={styles.avatarText}>๐ค</Text>
        </View>
        <Text style={styles.profileName}>{user.username}</Text>
        <Text style={styles.playerId}>ุฑูู ุงููุงุนุจ: {user.playerId}</Text>
        <View style={styles.levelBadge}>
          <Text style={styles.levelText}>ุงููุณุชูู {user.level}</Text>
        </View>
      </View>

      <View style={styles.currencySection}>
        <View style={styles.currencyItem}>
          <Text style={styles.currencyIcon}>๐ช</Text>
          <View>
            <Text style={styles.currencyAmount}>{user.goldCoins.toLocaleString()}</Text>
            <Text style={styles.currencyLabel}>ุฐูุจ</Text>
          </View>
        </View>
        
        <View style={styles.currencyItem}>
          <Text style={styles.currencyIcon}>๐ฆช</Text>
          <View>
            <Text style={styles.currencyAmount}>{user.pearls}</Text>
            <Text style={styles.currencyLabel}>ูุคูุคุฉ</Text>
          </View>
        </View>
      </View>

      <View style={styles.profileActions}>
        <TouchableOpacity style={styles.profileActionButton}>
          <Icon name="settings" size={24} color={colors.text} />
          <Text style={styles.profileActionText}>ุงูุฅุนุฏุงุฏุงุช</Text>
        </TouchableOpacity>
        
        <TouchableOpacity style={styles.profileActionButton}>
          <Icon name="history" size={24} color={colors.text} />
          <Text style={styles.profileActionText}>ุงูุณุฌู</Text>
        </TouchableOpacity>
        
        <TouchableOpacity style={styles.profileActionButton}>
          <Icon name="people" size={24} color={colors.text} />
          <Text style={styles.profileActionText}>ุงูุฃุตุฏูุงุก</Text>
        </TouchableOpacity>
      </View>
    </ScrollView>
  );
};

// ุงูุชุจููุจุงุช ุงูุฑุฆูุณูุฉ
const MainTabs = () => {
  return (
    <Tab.Navigator
      screenOptions={({ route }) => ({
        tabBarIcon: ({ focused, color, size }) => {
          let iconName = '';
          
          if (route.name === 'Home') iconName = 'home';
          else if (route.name === 'Multiplayer') iconName = 'games';
          else if (route.name === 'Voice') iconName = 'record-voice-over';
          else if (route.name === 'Profile') iconName = 'person';
          
          return <Icon name={iconName} size={size} color={color} />;
        },
        tabBarActiveTintColor: colors.secondary,
        tabBarInactiveTintColor: colors.textSecondary,
        tabBarStyle: {
          backgroundColor: colors.surface,
          borderTopColor: colors.primary,
          height: 60,
          paddingBottom: 8,
          paddingTop: 8
        },
        headerShown: false
      })}
    >
      <Tab.Screen 
        name="Home" 
        component={HomeScreen}
        options={{ tabBarLabel: 'ุงูุฑุฆูุณูุฉ' }}
      />
      <Tab.Screen 
        name="Multiplayer" 
        component={MultiplayerRoomsScreen}
        options={{ tabBarLabel: 'ุงูุฃูุนุงุจ' }}
      />
      <Tab.Screen 
        name="Voice" 
        component={VoiceRoomsScreen}
        options={{ tabBarLabel: 'ุงูุตูุช' }}
      />
      <Tab.Screen 
        name="Profile" 
        component={ProfileScreen}
        options={{ tabBarLabel: 'ุงูููู' }}
      />
    </Tab.Navigator>
  );
};

// ุงูุชุทุจูู ุงูุฑุฆูุณู
export default function App() {
  const [user, setUser] = useState(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    checkAuthStatus();
  }, []);

  const checkAuthStatus = async () => {
    try {
      const token = await AsyncStorage.getItem('userToken');
      const userData = await AsyncStorage.getItem('userData');
      
      if (token && userData) {
        setUser(JSON.parse(userData));
      }
    } catch (error) {
      console.error('ุฎุทุฃ ูู ูุญุต ุญุงูุฉ ุงููุตุงุฏูุฉ:', error);
    } finally {
      setLoading(false);
    }
  };

  if (loading) {
    return (
      <View style={[styles.container, styles.loadingContainer]}>
        <Text style={styles.loadingText}>๐ฎ</Text>
        <Text style={styles.loadingTitle}>INFINITY BOX</Text>
      </View>
    );
  }

  return (
    <NavigationContainer>
      {user ? <MainTabs /> : <LoginScreen onLogin={setUser} />}
    </NavigationContainer>
  );
}

// ุงูุฃููุงุท
const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: colors.background,
  },
  
  // ุดุงุดุฉ ุชุณุฌูู ุงูุฏุฎูู
  loginContainer: {
    flex: 1,
    justifyContent: 'center',
    padding: 20,
  },
  logoContainer: {
    alignItems: 'center',
    marginBottom: 40,
  },
  logo: {
    fontSize: 80,
    marginBottom: 10,
  },
  appName: {
    fontSize: 28,
    fontWeight: 'bold',
    color: colors.text,
    marginBottom: 5,
  },
  tagline: {
    fontSize: 14,
    color: colors.textSecondary,
    textAlign: 'center',
  },
  formContainer: {
    width: '100%',
  },
  input: {
    backgroundColor: colors.surface,
    borderRadius: 12,
    padding: 15,
    marginBottom: 15,
    color: colors.text,
    fontSize: 16,
    textAlign: 'right',
  },
  primaryButton: {
    backgroundColor: colors.secondary,
    borderRadius: 12,
    padding: 15,
    alignItems: 'center',
    marginBottom: 15,
  },
  buttonText: {
    color: colors.text,
    fontSize: 16,
    fontWeight: 'bold',
  },
  secondaryButton: {
    alignItems: 'center',
    padding: 10,
  },
  secondaryButtonText: {
    color: colors.textSecondary,
    fontSize: 14,
  },
  
  // ุงูุดุงุดุฉ ุงูุฑุฆูุณูุฉ
  scrollContent: {
    paddingBottom: 20,
  },
  header: {
    padding: 20,
    alignItems: 'center',
  },
  welcomeText: {
    fontSize: 16,
    color: colors.textSecondary,
  },
  headerTitle: {
    fontSize: 32,
    fontWeight: 'bold',
    color: colors.text,
    marginBottom: 20,
  },
  statsRow: {
    flexDirection: 'row',
    justifyContent: 'space-around',
    width: '100%',
  },
  statItem: {
    alignItems: 'center',
  },
  statNumber: {
    fontSize: 24,
    fontWeight: 'bold',
    color: colors.secondary,
  },
  statLabel: {
    fontSize: 12,
    color: colors.textSecondary,
  },
  
  section: {
    padding: 20,
  },
  sectionTitle: {
    fontSize: 20,
    fontWeight: 'bold',
    color: colors.text,
    marginBottom: 15,
    textAlign: 'right',
  },
  
  // ุจุทุงูุฉ ุงููุนุจุฉ ุงููููุฒุฉ
  featuredGameCard: {
    backgroundColor: colors.surface,
    borderRadius: 16,
    padding: 20,
    flexDirection: 'row',
    alignItems: 'center',
    marginBottom: 15,
  },
  gameIcon: {
    width: 60,
    height: 60,
    backgroundColor: colors.secondary,
    borderRadius: 30,
    justifyContent: 'center',
    alignItems: 'center',
    marginRight: 15,
  },
  gameIconText: {
    fontSize: 30,
  },
  gameInfo: {
    flex: 1,
  },
  gameName: {
    fontSize: 18,
    fontWeight: 'bold',
    color: colors.text,
    marginBottom: 5,
    textAlign: 'right',
  },
  gameDescription: {
    fontSize: 14,
    color: colors.textSecondary,
    marginBottom: 5,
    textAlign: 'right',
  },
  playersCount: {
    fontSize: 12,
    color: colors.accent,
    textAlign: 'right',
  },
  playButton: {
    backgroundColor: colors.accent,
    borderRadius: 20,
    paddingHorizontal: 20,
    paddingVertical: 10,
  },
  playButtonText: {
    color: colors.text,
    fontWeight: 'bold',
  },
  
  // ุดุจูุฉ ุงูุฃูุนุงุจ
  gamesGrid: {
    flexDirection: 'row',
    flexWrap: 'wrap',
    justifyContent: 'space-between',
  },
  gameCard: {
    backgroundColor: colors.surface,
    borderRadius: 12,
    padding: 15,
    width: (width - 60) / 2,
    alignItems: 'center',
    marginBottom: 15,
  },
  gameCardIcon: {
    fontSize: 40,
    marginBottom: 10,
  },
  gameCardName: {
    fontSize: 14,
    fontWeight: 'bold',
    color: colors.text,
    textAlign: 'center',
    marginBottom: 5,
  },
  gameCardPlayers: {
    fontSize: 12,
    color: colors.textSecondary,
  },
  
  // ุบุฑู ุงูุฃูุนุงุจ
  roomsHeader: {
    flexDirection: 'row',
    justifyContent: 'space-between',
    alignItems: 'center',
    padding: 20,
  },
  pageTitle: {
    fontSize: 24,
    fontWeight: 'bold',
    color: colors.text,
  },
  createRoomButton: {
    backgroundColor: colors.secondary,
    borderRadius: 20,
    width: 40,
    height: 40,
    justifyContent: 'center',
    alignItems: 'center',
  },
  roomsList: {
    flex: 1,
    padding: 20,
  },
  roomCard: {
    backgroundColor: colors.surface,
    borderRadius: 12,
    padding: 15,
    marginBottom: 15,
  },
  roomHeader: {
    flexDirection: 'row',
    justifyContent: 'space-between',
    alignItems: 'center',
    marginBottom: 10,
  },
  roomName: {
    fontSize: 16,
    fontWeight: 'bold',
    color: colors.text,
  },
  roomStatus: {
    borderRadius: 12,
    paddingHorizontal: 8,
    paddingVertical: 4,
  },
  roomStatusText: {
    fontSize: 12,
    color: colors.text,
    fontWeight: 'bold',
  },
  roomInfo: {
    marginBottom: 15,
  },
  roomGameType: {
    fontSize: 14,
    color: colors.text,
    marginBottom: 5,
  },
  roomPlayers: {
    fontSize: 14,
    color: colors.textSecondary,
    marginBottom: 5,
  },
  roomDifficulty: {
    fontSize: 14,
    color: colors.textSecondary,
  },
  joinRoomButton: {
    backgroundColor: colors.accent,
    borderRadius: 8,
    padding: 12,
    alignItems: 'center',
  },
  joinRoomButtonText: {
    color: colors.text,
    fontWeight: 'bold',
  },
  
  // ุงูุบุฑู ุงูุตูุชูุฉ
  voiceRoomsList: {
    flex: 1,
    padding: 20,
  },
  voiceRoomCard: {
    backgroundColor: colors.surface,
    borderRadius: 12,
    padding: 15,
    marginBottom: 15,
  },
  voiceRoomHeader: {
    flexDirection: 'row',
    justifyContent: 'space-between',
    alignItems: 'center',
    marginBottom: 15,
  },
  voiceRoomName: {
    fontSize: 16,
    fontWeight: 'bold',
    color: colors.text,
  },
  voiceRoomUsers: {
    flexDirection: 'row',
    alignItems: 'center',
  },
  voiceRoomUsersText: {
    fontSize: 14,
    color: colors.textSecondary,
    marginLeft: 5,
  },
  joinVoiceButton: {
    backgroundColor: colors.secondary,
    borderRadius: 8,
    padding: 12,
    flexDirection: 'row',
    alignItems: 'center',
    justifyContent: 'center',
  },
  joinVoiceButtonText: {
    color: colors.text,
    fontWeight: 'bold',
    marginLeft: 8,
  },
  
  // ุงูููู ุงูุดุฎุตู
  profileContent: {
    padding: 20,
  },
  profileHeader: {
    alignItems: 'center',
    marginBottom: 30,
  },
  avatarContainer: {
    width: 100,
    height: 100,
    backgroundColor: colors.surface,
    borderRadius: 50,
    justifyContent: 'center',
    alignItems: 'center',
    marginBottom: 15,
  },
  avatarText: {
    fontSize: 50,
  },
  profileName: {
    fontSize: 24,
    fontWeight: 'bold',
    color: colors.text,
    marginBottom: 5,
  },
  playerId: {
    fontSize: 14,
    color: colors.textSecondary,
    marginBottom: 10,
  },
  levelBadge: {
    backgroundColor: colors.secondary,
    borderRadius: 15,
    paddingHorizontal: 15,
    paddingVertical: 5,
  },
  levelText: {
    color: colors.text,
    fontWeight: 'bold',
  },
  
  currencySection: {
    flexDirection: 'row',
    justifyContent: 'space-around',
    marginBottom: 30,
  },
  currencyItem: {
    alignItems: 'center',
    backgroundColor: colors.surface,
    borderRadius: 12,
    padding: 20,
    flex: 1,
    marginHorizontal: 5,
  },
  currencyIcon: {
    fontSize: 30,
    marginBottom: 10,
  },
  currencyAmount: {
    fontSize: 18,
    fontWeight: 'bold',
    color: colors.text,
    textAlign: 'center',
  },
  currencyLabel: {
    fontSize: 12,
    color: colors.textSecondary,
    textAlign: 'center',
  },
  
  profileActions: {
    gap: 15,
  },
  profileActionButton: {
    backgroundColor: colors.surface,
    borderRadius: 12,
    padding: 15,
    flexDirection: 'row',
    alignItems: 'center',
  },
  profileActionText: {
    fontSize: 16,
    color: colors.text,
    marginLeft: 15,
  },
  
  // ุงูููุงูุฐ ุงูููุจุซูุฉ
  modalOverlay: {
    flex: 1,
    backgroundColor: 'rgba(0,0,0,0.5)',
    justifyContent: 'center',
    alignItems: 'center',
  },
  modalContent: {
    backgroundColor: colors.surface,
    borderRadius: 12,
    padding: 20,
    width: width - 40,
  },
  modalTitle: {
    fontSize: 20,
    fontWeight: 'bold',
    color: colors.text,
    textAlign: 'center',
    marginBottom: 20,
  },
  modalInput: {
    backgroundColor: colors.background,
    borderRadius: 8,
    padding: 15,
    color: colors.text,
    marginBottom: 20,
    textAlign: 'right',
  },
  modalButtons: {
    flexDirection: 'row',
    gap: 10,
  },
  modalCancelButton: {
    flex: 1,
    backgroundColor: colors.background,
    borderRadius: 8,
    padding: 15,
    alignItems: 'center',
  },
  modalCancelText: {
    color: colors.textSecondary,
  },
  modalCreateButton: {
    flex: 1,
    backgroundColor: colors.secondary,
    borderRadius: 8,
    padding: 15,
    alignItems: 'center',
  },
  modalCreateText: {
    color: colors.text,
    fontWeight: 'bold',
  },
  
  // ุดุงุดุฉ ุงูุชุญููู
  loadingContainer: {
    justifyContent: 'center',
    alignItems: 'center',
  },
  loadingText: {
    fontSize: 80,
    marginBottom: 20,
  },
  loadingTitle: {
    fontSize: 24,
    fontWeight: 'bold',
    color: colors.text,
  },
});